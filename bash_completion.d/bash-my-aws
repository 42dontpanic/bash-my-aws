_stacks() {
    local command="$1"
    local word="$2"
    COMPREPLY=($(compgen -W "$(stacks)" -- ${word}))
    return 0
}

_instances() {
    local command="$1"
    local word="$2"

    case $word in
      "") options="i-a i-b" ;;
      *)
        options=$(instances)
      ;;
    esac

    COMPREPLY=($(compgen -W "${options}" -- ${word}))
    return 0
}

_asg() {
    local command="$1"
    local word="$2"
    local options=$(asg)

    COMPREPLY=($(compgen -W "${options}" -- ${word}))
    return 0
}

complete -F _stacks stacks
complete -F _stacks stack-delete
complete -F _stacks stack-failure
complete -F _stacks stack-parameters
complete -F _stacks stack-resources
complete -F _stacks stack-status
complete -F _stacks stack-template

complete -F _instances instances
complete -F _instances instance-asg
complete -F _instances instance-console
complete -F _instances instance-dns
complete -F _instances instance-iam_profile
complete -F _instances instance-ip
complete -F _instances instance-ssh
complete -F _instances instance-ssh_details
complete -F _instances instance-stack
complete -F _instances instance-start
complete -F _instances instance-state
complete -F _instances instance-stop
complete -F _instances instance-terminate
complete -F _instances instance-type
complete -F _instances instance-userdata
complete -F _instances instance-volumes

complete -F _asg asg-capacity
complete -F _asg asg-instances
complete -F _asg asg-processes_suspended
complete -F _asg asg-resume
complete -F _asg asg-suspend

# vim: ft=sh
